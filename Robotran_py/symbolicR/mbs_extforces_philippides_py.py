#
#	MBsysTran - Release 8.1
#
#	Copyright 
#	Universite catholique de Louvain (UCLouvain) 
#	Mechatronic, Electrical Energy, and Dynamic systems (MEED Division) 
#	2, Place du Levant
#	1348 Louvain-la-Neuve 
#	Belgium 
#
#	http://www.robotran.be 
#
#	==> Generation Date: Fri Apr  4 12:37:42 2025
#	==> using automatic loading with extension .mbs 
#
#	==> Project name: philippides_py
#
#	==> Number of joints: 13
#
#	==> Function: F19 - External Forces
#
#	==> Git hash: a9259031f25de7c9f86dbac08464ef31e84ae3b1
#
#	==> Input XML
#

from math import sin, cos
from numpy import zeros

def extforces(frc, trq, s, tsim):
    q = s.q
    qd = s.qd
    qdd = s.qdd
    frc = s.frc
    trq = s.trq

    PxF1 = zeros(4)
    RxF1 = zeros((4, 4))
    VxF1 = zeros(4)
    OMxF1 = zeros(4)
    AxF1 = zeros(4)
    OMPxF1 = zeros(4)

    PxF2 = zeros(4)
    RxF2 = zeros((4, 4))
    VxF2 = zeros(4)
    OMxF2 = zeros(4)
    AxF2 = zeros(4)
    OMPxF2 = zeros(4)

    PxF3 = zeros(4)
    RxF3 = zeros((4, 4))
    VxF3 = zeros(4)
    OMxF3 = zeros(4)
    AxF3 = zeros(4)
    OMPxF3 = zeros(4)

    PxF4 = zeros(4)
    RxF4 = zeros((4, 4))
    VxF4 = zeros(4)
    OMxF4 = zeros(4)
    AxF4 = zeros(4)
    OMPxF4 = zeros(4)

    PxF5 = zeros(4)
    RxF5 = zeros((4, 4))
    VxF5 = zeros(4)
    OMxF5 = zeros(4)
    AxF5 = zeros(4)
    OMPxF5 = zeros(4)

    PxF6 = zeros(4)
    RxF6 = zeros((4, 4))
    VxF6 = zeros(4)
    OMxF6 = zeros(4)
    AxF6 = zeros(4)
    OMPxF6 = zeros(4)

    PxF7 = zeros(4)
    RxF7 = zeros((4, 4))
    VxF7 = zeros(4)
    OMxF7 = zeros(4)
    AxF7 = zeros(4)
    OMPxF7 = zeros(4)

    PxF8 = zeros(4)
    RxF8 = zeros((4, 4))
    VxF8 = zeros(4)
    OMxF8 = zeros(4)
    AxF8 = zeros(4)
    OMPxF8 = zeros(4)

    PxF9 = zeros(4)
    RxF9 = zeros((4, 4))
    VxF9 = zeros(4)
    OMxF9 = zeros(4)
    AxF9 = zeros(4)
    OMPxF9 = zeros(4)

    PxF10 = zeros(4)
    RxF10 = zeros((4, 4))
    VxF10 = zeros(4)
    OMxF10 = zeros(4)
    AxF10 = zeros(4)
    OMPxF10 = zeros(4)

 
# Trigonometric functions

    S3 = sin(q[3])
    C3 = cos(q[3])
    S5 = sin(q[5])
    C5 = cos(q[5])
    S7 = sin(q[7])
    C7 = cos(q[7])
    S8 = sin(q[8])
    C8 = cos(q[8])
    S10 = sin(q[10])
    C10 = cos(q[10])
    S12 = sin(q[12])
    C12 = cos(q[12])
    S13 = sin(q[13])
    C13 = cos(q[13])
 
# Augmented Joint Position Vectors

    Dz43 = q[4]+s.dpt[3,4]
    Dz63 = q[6]+s.dpt[3,6]
    Dz93 = q[9]+s.dpt[3,5]
    Dz113 = q[11]+s.dpt[3,13]
 
# Augmented Joint Position Vectors

 
# Sensor Kinematics

    ROcp1_15 = C3*C5-S3*S5
    ROcp1_35 = -C3*S5-S3*C5
    ROcp1_75 = C3*S5+S3*C5
    ROcp1_95 = C3*C5-S3*S5
    ROcp1_17 = ROcp1_15*C7-ROcp1_75*S7
    ROcp1_37 = ROcp1_35*C7-ROcp1_95*S7
    ROcp1_77 = ROcp1_15*S7+ROcp1_75*C7
    ROcp1_97 = ROcp1_35*S7+ROcp1_95*C7
    ROcp1_18 = ROcp1_17*C8-ROcp1_77*S8
    ROcp1_38 = ROcp1_37*C8-ROcp1_97*S8
    ROcp1_78 = ROcp1_17*S8+ROcp1_77*C8
    ROcp1_98 = ROcp1_37*S8+ROcp1_97*C8
    POcp1_32 = q[2]+s.dpt[3,1]
    POcp1_23 = s.dpt[2,2]+s.dpt[2,3]
    RLcp1_14 = Dz43*S3
    RLcp1_34 = Dz43*C3
    POcp1_14 = q[1]+RLcp1_14
    POcp1_24 = POcp1_23+s.dpt[2,4]
    POcp1_34 = POcp1_32+RLcp1_34
    ORcp1_14 = qd[3]*RLcp1_34
    ORcp1_34 = -qd[3]*RLcp1_14
    VIcp1_14 = qd[1]+ORcp1_14+qd[4]*S3
    VIcp1_34 = qd[2]+ORcp1_34+qd[4]*C3
    ACcp1_14 = qdd[1]+qd[3]*ORcp1_34+(2.0)*qd[3]*qd[4]*C3+qdd[3]*RLcp1_34+qdd[4]*S3
    ACcp1_34 = qdd[2]-qd[3]*ORcp1_14-(2.0)*qd[3]*qd[4]*S3-qdd[3]*RLcp1_14+qdd[4]*C3
    OMcp1_25 = qd[3]+qd[5]
    OPcp1_25 = qdd[3]+qdd[5]
    RLcp1_16 = ROcp1_75*Dz63
    RLcp1_36 = ROcp1_95*Dz63
    POcp1_16 = POcp1_14+RLcp1_16
    POcp1_36 = POcp1_34+RLcp1_36
    ORcp1_16 = OMcp1_25*RLcp1_36
    ORcp1_36 = -OMcp1_25*RLcp1_16
    VIcp1_16 = ORcp1_16+VIcp1_14+qd[6]*ROcp1_75
    VIcp1_36 = ORcp1_36+VIcp1_34+qd[6]*ROcp1_95
    ACcp1_16 = ACcp1_14+(2.0)*qd[6]*OMcp1_25*ROcp1_95+qdd[6]*ROcp1_75+OMcp1_25*ORcp1_36+OPcp1_25*RLcp1_36
    ACcp1_36 = ACcp1_34-(2.0)*qd[6]*OMcp1_25*ROcp1_75+qdd[6]*ROcp1_95-OMcp1_25*ORcp1_16-OPcp1_25*RLcp1_16
    OMcp1_27 = qd[7]+OMcp1_25
    OPcp1_27 = qdd[7]+OPcp1_25
    RLcp1_18 = ROcp1_77*s.dpt[3,7]
    RLcp1_38 = ROcp1_97*s.dpt[3,7]
    POcp1_18 = POcp1_16+RLcp1_18
    POcp1_38 = POcp1_36+RLcp1_38
    OMcp1_28 = qd[8]+OMcp1_27
    ORcp1_18 = OMcp1_27*RLcp1_38
    ORcp1_38 = -OMcp1_27*RLcp1_18
    VIcp1_18 = ORcp1_18+VIcp1_16
    VIcp1_38 = ORcp1_38+VIcp1_36
    OPcp1_28 = qdd[8]+OPcp1_27
    ACcp1_18 = ACcp1_16+OMcp1_27*ORcp1_38+OPcp1_27*RLcp1_38
    ACcp1_38 = ACcp1_36-OMcp1_27*ORcp1_18-OPcp1_27*RLcp1_18
    RLcp1_19 = ROcp1_18*s.dpt[1,8]+ROcp1_78*s.dpt[3,8]
    RLcp1_39 = ROcp1_38*s.dpt[1,8]+ROcp1_98*s.dpt[3,8]
    POcp1_19 = POcp1_18+RLcp1_19
    POcp1_29 = POcp1_24+s.dpt[2,8]
    POcp1_39 = POcp1_38+RLcp1_39
    ORcp1_19 = OMcp1_28*RLcp1_39
    ORcp1_39 = -OMcp1_28*RLcp1_19
    VIcp1_19 = ORcp1_19+VIcp1_18
    VIcp1_39 = ORcp1_39+VIcp1_38
    ACcp1_19 = ACcp1_18+OMcp1_28*ORcp1_39+OPcp1_28*RLcp1_39
    ACcp1_39 = ACcp1_38-OMcp1_28*ORcp1_19-OPcp1_28*RLcp1_19
    PxF1[1] = POcp1_19
    PxF1[2] = POcp1_29
    PxF1[3] = POcp1_39
    RxF1[1,1] = ROcp1_18
    RxF1[1,3] = ROcp1_38
    RxF1[2,2] = (1.0)
    RxF1[3,1] = ROcp1_78
    RxF1[3,3] = ROcp1_98
    VxF1[1] = VIcp1_19
    VxF1[2] = 0
    VxF1[3] = VIcp1_39
    OMxF1[1] = 0
    OMxF1[2] = OMcp1_28
    OMxF1[3] = 0
    AxF1[1] = ACcp1_19
    AxF1[2] = 0
    AxF1[3] = ACcp1_39
    OMPxF1[1] = 0
    OMPxF1[2] = OPcp1_28
    OMPxF1[3] = 0
    ROcp2_15 = C3*C5-S3*S5
    ROcp2_35 = -C3*S5-S3*C5
    ROcp2_75 = C3*S5+S3*C5
    ROcp2_95 = C3*C5-S3*S5
    ROcp2_17 = ROcp2_15*C7-ROcp2_75*S7
    ROcp2_37 = ROcp2_35*C7-ROcp2_95*S7
    ROcp2_77 = ROcp2_15*S7+ROcp2_75*C7
    ROcp2_97 = ROcp2_35*S7+ROcp2_95*C7
    ROcp2_18 = ROcp2_17*C8-ROcp2_77*S8
    ROcp2_38 = ROcp2_37*C8-ROcp2_97*S8
    ROcp2_78 = ROcp2_17*S8+ROcp2_77*C8
    ROcp2_98 = ROcp2_37*S8+ROcp2_97*C8
    POcp2_32 = q[2]+s.dpt[3,1]
    POcp2_23 = s.dpt[2,2]+s.dpt[2,3]
    RLcp2_14 = Dz43*S3
    RLcp2_34 = Dz43*C3
    POcp2_14 = q[1]+RLcp2_14
    POcp2_24 = POcp2_23+s.dpt[2,4]
    POcp2_34 = POcp2_32+RLcp2_34
    ORcp2_14 = qd[3]*RLcp2_34
    ORcp2_34 = -qd[3]*RLcp2_14
    VIcp2_14 = qd[1]+ORcp2_14+qd[4]*S3
    VIcp2_34 = qd[2]+ORcp2_34+qd[4]*C3
    ACcp2_14 = qdd[1]+qd[3]*ORcp2_34+(2.0)*qd[3]*qd[4]*C3+qdd[3]*RLcp2_34+qdd[4]*S3
    ACcp2_34 = qdd[2]-qd[3]*ORcp2_14-(2.0)*qd[3]*qd[4]*S3-qdd[3]*RLcp2_14+qdd[4]*C3
    OMcp2_25 = qd[3]+qd[5]
    OPcp2_25 = qdd[3]+qdd[5]
    RLcp2_16 = ROcp2_75*Dz63
    RLcp2_36 = ROcp2_95*Dz63
    POcp2_16 = POcp2_14+RLcp2_16
    POcp2_36 = POcp2_34+RLcp2_36
    ORcp2_16 = OMcp2_25*RLcp2_36
    ORcp2_36 = -OMcp2_25*RLcp2_16
    VIcp2_16 = ORcp2_16+VIcp2_14+qd[6]*ROcp2_75
    VIcp2_36 = ORcp2_36+VIcp2_34+qd[6]*ROcp2_95
    ACcp2_16 = ACcp2_14+(2.0)*qd[6]*OMcp2_25*ROcp2_95+qdd[6]*ROcp2_75+OMcp2_25*ORcp2_36+OPcp2_25*RLcp2_36
    ACcp2_36 = ACcp2_34-(2.0)*qd[6]*OMcp2_25*ROcp2_75+qdd[6]*ROcp2_95-OMcp2_25*ORcp2_16-OPcp2_25*RLcp2_16
    OMcp2_27 = qd[7]+OMcp2_25
    OPcp2_27 = qdd[7]+OPcp2_25
    RLcp2_18 = ROcp2_77*s.dpt[3,7]
    RLcp2_38 = ROcp2_97*s.dpt[3,7]
    POcp2_18 = POcp2_16+RLcp2_18
    POcp2_38 = POcp2_36+RLcp2_38
    OMcp2_28 = qd[8]+OMcp2_27
    ORcp2_18 = OMcp2_27*RLcp2_38
    ORcp2_38 = -OMcp2_27*RLcp2_18
    VIcp2_18 = ORcp2_18+VIcp2_16
    VIcp2_38 = ORcp2_38+VIcp2_36
    OPcp2_28 = qdd[8]+OPcp2_27
    ACcp2_18 = ACcp2_16+OMcp2_27*ORcp2_38+OPcp2_27*RLcp2_38
    ACcp2_38 = ACcp2_36-OMcp2_27*ORcp2_18-OPcp2_27*RLcp2_18
    RLcp2_19 = ROcp2_18*s.dpt[1,9]+ROcp2_78*s.dpt[3,9]
    RLcp2_39 = ROcp2_38*s.dpt[1,9]+ROcp2_98*s.dpt[3,9]
    POcp2_19 = POcp2_18+RLcp2_19
    POcp2_29 = POcp2_24+s.dpt[2,9]
    POcp2_39 = POcp2_38+RLcp2_39
    ORcp2_19 = OMcp2_28*RLcp2_39
    ORcp2_39 = -OMcp2_28*RLcp2_19
    VIcp2_19 = ORcp2_19+VIcp2_18
    VIcp2_39 = ORcp2_39+VIcp2_38
    ACcp2_19 = ACcp2_18+OMcp2_28*ORcp2_39+OPcp2_28*RLcp2_39
    ACcp2_39 = ACcp2_38-OMcp2_28*ORcp2_19-OPcp2_28*RLcp2_19
    PxF2[1] = POcp2_19
    PxF2[2] = POcp2_29
    PxF2[3] = POcp2_39
    RxF2[1,1] = ROcp2_18
    RxF2[1,3] = ROcp2_38
    RxF2[2,2] = (1.0)
    RxF2[3,1] = ROcp2_78
    RxF2[3,3] = ROcp2_98
    VxF2[1] = VIcp2_19
    VxF2[2] = 0
    VxF2[3] = VIcp2_39
    OMxF2[1] = 0
    OMxF2[2] = OMcp2_28
    OMxF2[3] = 0
    AxF2[1] = ACcp2_19
    AxF2[2] = 0
    AxF2[3] = ACcp2_39
    OMPxF2[1] = 0
    OMPxF2[2] = OPcp2_28
    OMPxF2[3] = 0
    ROcp3_15 = C3*C5-S3*S5
    ROcp3_35 = -C3*S5-S3*C5
    ROcp3_75 = C3*S5+S3*C5
    ROcp3_95 = C3*C5-S3*S5
    ROcp3_17 = ROcp3_15*C7-ROcp3_75*S7
    ROcp3_37 = ROcp3_35*C7-ROcp3_95*S7
    ROcp3_77 = ROcp3_15*S7+ROcp3_75*C7
    ROcp3_97 = ROcp3_35*S7+ROcp3_95*C7
    ROcp3_18 = ROcp3_17*C8-ROcp3_77*S8
    ROcp3_38 = ROcp3_37*C8-ROcp3_97*S8
    ROcp3_78 = ROcp3_17*S8+ROcp3_77*C8
    ROcp3_98 = ROcp3_37*S8+ROcp3_97*C8
    POcp3_32 = q[2]+s.dpt[3,1]
    POcp3_23 = s.dpt[2,2]+s.dpt[2,3]
    RLcp3_14 = Dz43*S3
    RLcp3_34 = Dz43*C3
    POcp3_14 = q[1]+RLcp3_14
    POcp3_24 = POcp3_23+s.dpt[2,4]
    POcp3_34 = POcp3_32+RLcp3_34
    ORcp3_14 = qd[3]*RLcp3_34
    ORcp3_34 = -qd[3]*RLcp3_14
    VIcp3_14 = qd[1]+ORcp3_14+qd[4]*S3
    VIcp3_34 = qd[2]+ORcp3_34+qd[4]*C3
    ACcp3_14 = qdd[1]+qd[3]*ORcp3_34+(2.0)*qd[3]*qd[4]*C3+qdd[3]*RLcp3_34+qdd[4]*S3
    ACcp3_34 = qdd[2]-qd[3]*ORcp3_14-(2.0)*qd[3]*qd[4]*S3-qdd[3]*RLcp3_14+qdd[4]*C3
    OMcp3_25 = qd[3]+qd[5]
    OPcp3_25 = qdd[3]+qdd[5]
    RLcp3_16 = ROcp3_75*Dz63
    RLcp3_36 = ROcp3_95*Dz63
    POcp3_16 = POcp3_14+RLcp3_16
    POcp3_36 = POcp3_34+RLcp3_36
    ORcp3_16 = OMcp3_25*RLcp3_36
    ORcp3_36 = -OMcp3_25*RLcp3_16
    VIcp3_16 = ORcp3_16+VIcp3_14+qd[6]*ROcp3_75
    VIcp3_36 = ORcp3_36+VIcp3_34+qd[6]*ROcp3_95
    ACcp3_16 = ACcp3_14+(2.0)*qd[6]*OMcp3_25*ROcp3_95+qdd[6]*ROcp3_75+OMcp3_25*ORcp3_36+OPcp3_25*RLcp3_36
    ACcp3_36 = ACcp3_34-(2.0)*qd[6]*OMcp3_25*ROcp3_75+qdd[6]*ROcp3_95-OMcp3_25*ORcp3_16-OPcp3_25*RLcp3_16
    OMcp3_27 = qd[7]+OMcp3_25
    OPcp3_27 = qdd[7]+OPcp3_25
    RLcp3_18 = ROcp3_77*s.dpt[3,7]
    RLcp3_38 = ROcp3_97*s.dpt[3,7]
    POcp3_18 = POcp3_16+RLcp3_18
    POcp3_38 = POcp3_36+RLcp3_38
    OMcp3_28 = qd[8]+OMcp3_27
    ORcp3_18 = OMcp3_27*RLcp3_38
    ORcp3_38 = -OMcp3_27*RLcp3_18
    VIcp3_18 = ORcp3_18+VIcp3_16
    VIcp3_38 = ORcp3_38+VIcp3_36
    OPcp3_28 = qdd[8]+OPcp3_27
    ACcp3_18 = ACcp3_16+OMcp3_27*ORcp3_38+OPcp3_27*RLcp3_38
    ACcp3_38 = ACcp3_36-OMcp3_27*ORcp3_18-OPcp3_27*RLcp3_18
    RLcp3_19 = ROcp3_78*s.dpt[3,10]
    RLcp3_39 = ROcp3_98*s.dpt[3,10]
    POcp3_19 = POcp3_18+RLcp3_19
    POcp3_39 = POcp3_38+RLcp3_39
    ORcp3_19 = OMcp3_28*RLcp3_39
    ORcp3_39 = -OMcp3_28*RLcp3_19
    VIcp3_19 = ORcp3_19+VIcp3_18
    VIcp3_39 = ORcp3_39+VIcp3_38
    ACcp3_19 = ACcp3_18+OMcp3_28*ORcp3_39+OPcp3_28*RLcp3_39
    ACcp3_39 = ACcp3_38-OMcp3_28*ORcp3_19-OPcp3_28*RLcp3_19
    PxF3[1] = POcp3_19
    PxF3[2] = POcp3_24
    PxF3[3] = POcp3_39
    RxF3[1,1] = ROcp3_18
    RxF3[1,3] = ROcp3_38
    RxF3[2,2] = (1.0)
    RxF3[3,1] = ROcp3_78
    RxF3[3,3] = ROcp3_98
    VxF3[1] = VIcp3_19
    VxF3[2] = 0
    VxF3[3] = VIcp3_39
    OMxF3[1] = 0
    OMxF3[2] = OMcp3_28
    OMxF3[3] = 0
    AxF3[1] = ACcp3_19
    AxF3[2] = 0
    AxF3[3] = ACcp3_39
    OMPxF3[1] = 0
    OMPxF3[2] = OPcp3_28
    OMPxF3[3] = 0
    ROcp4_15 = C3*C5-S3*S5
    ROcp4_35 = -C3*S5-S3*C5
    ROcp4_75 = C3*S5+S3*C5
    ROcp4_95 = C3*C5-S3*S5
    ROcp4_17 = ROcp4_15*C7-ROcp4_75*S7
    ROcp4_37 = ROcp4_35*C7-ROcp4_95*S7
    ROcp4_77 = ROcp4_15*S7+ROcp4_75*C7
    ROcp4_97 = ROcp4_35*S7+ROcp4_95*C7
    ROcp4_18 = ROcp4_17*C8-ROcp4_77*S8
    ROcp4_38 = ROcp4_37*C8-ROcp4_97*S8
    ROcp4_78 = ROcp4_17*S8+ROcp4_77*C8
    ROcp4_98 = ROcp4_37*S8+ROcp4_97*C8
    POcp4_32 = q[2]+s.dpt[3,1]
    POcp4_23 = s.dpt[2,2]+s.dpt[2,3]
    RLcp4_14 = Dz43*S3
    RLcp4_34 = Dz43*C3
    POcp4_14 = q[1]+RLcp4_14
    POcp4_24 = POcp4_23+s.dpt[2,4]
    POcp4_34 = POcp4_32+RLcp4_34
    ORcp4_14 = qd[3]*RLcp4_34
    ORcp4_34 = -qd[3]*RLcp4_14
    VIcp4_14 = qd[1]+ORcp4_14+qd[4]*S3
    VIcp4_34 = qd[2]+ORcp4_34+qd[4]*C3
    ACcp4_14 = qdd[1]+qd[3]*ORcp4_34+(2.0)*qd[3]*qd[4]*C3+qdd[3]*RLcp4_34+qdd[4]*S3
    ACcp4_34 = qdd[2]-qd[3]*ORcp4_14-(2.0)*qd[3]*qd[4]*S3-qdd[3]*RLcp4_14+qdd[4]*C3
    OMcp4_25 = qd[3]+qd[5]
    OPcp4_25 = qdd[3]+qdd[5]
    RLcp4_16 = ROcp4_75*Dz63
    RLcp4_36 = ROcp4_95*Dz63
    POcp4_16 = POcp4_14+RLcp4_16
    POcp4_36 = POcp4_34+RLcp4_36
    ORcp4_16 = OMcp4_25*RLcp4_36
    ORcp4_36 = -OMcp4_25*RLcp4_16
    VIcp4_16 = ORcp4_16+VIcp4_14+qd[6]*ROcp4_75
    VIcp4_36 = ORcp4_36+VIcp4_34+qd[6]*ROcp4_95
    ACcp4_16 = ACcp4_14+(2.0)*qd[6]*OMcp4_25*ROcp4_95+qdd[6]*ROcp4_75+OMcp4_25*ORcp4_36+OPcp4_25*RLcp4_36
    ACcp4_36 = ACcp4_34-(2.0)*qd[6]*OMcp4_25*ROcp4_75+qdd[6]*ROcp4_95-OMcp4_25*ORcp4_16-OPcp4_25*RLcp4_16
    OMcp4_27 = qd[7]+OMcp4_25
    OPcp4_27 = qdd[7]+OPcp4_25
    RLcp4_18 = ROcp4_77*s.dpt[3,7]
    RLcp4_38 = ROcp4_97*s.dpt[3,7]
    POcp4_18 = POcp4_16+RLcp4_18
    POcp4_38 = POcp4_36+RLcp4_38
    OMcp4_28 = qd[8]+OMcp4_27
    ORcp4_18 = OMcp4_27*RLcp4_38
    ORcp4_38 = -OMcp4_27*RLcp4_18
    VIcp4_18 = ORcp4_18+VIcp4_16
    VIcp4_38 = ORcp4_38+VIcp4_36
    OPcp4_28 = qdd[8]+OPcp4_27
    ACcp4_18 = ACcp4_16+OMcp4_27*ORcp4_38+OPcp4_27*RLcp4_38
    ACcp4_38 = ACcp4_36-OMcp4_27*ORcp4_18-OPcp4_27*RLcp4_18
    RLcp4_19 = ROcp4_18*s.dpt[1,11]+ROcp4_78*s.dpt[3,11]
    RLcp4_39 = ROcp4_38*s.dpt[1,11]+ROcp4_98*s.dpt[3,11]
    POcp4_19 = POcp4_18+RLcp4_19
    POcp4_29 = POcp4_24+s.dpt[2,11]
    POcp4_39 = POcp4_38+RLcp4_39
    ORcp4_19 = OMcp4_28*RLcp4_39
    ORcp4_39 = -OMcp4_28*RLcp4_19
    VIcp4_19 = ORcp4_19+VIcp4_18
    VIcp4_39 = ORcp4_39+VIcp4_38
    ACcp4_19 = ACcp4_18+OMcp4_28*ORcp4_39+OPcp4_28*RLcp4_39
    ACcp4_39 = ACcp4_38-OMcp4_28*ORcp4_19-OPcp4_28*RLcp4_19
    PxF4[1] = POcp4_19
    PxF4[2] = POcp4_29
    PxF4[3] = POcp4_39
    RxF4[1,1] = ROcp4_18
    RxF4[1,3] = ROcp4_38
    RxF4[2,2] = (1.0)
    RxF4[3,1] = ROcp4_78
    RxF4[3,3] = ROcp4_98
    VxF4[1] = VIcp4_19
    VxF4[2] = 0
    VxF4[3] = VIcp4_39
    OMxF4[1] = 0
    OMxF4[2] = OMcp4_28
    OMxF4[3] = 0
    AxF4[1] = ACcp4_19
    AxF4[2] = 0
    AxF4[3] = ACcp4_39
    OMPxF4[1] = 0
    OMPxF4[2] = OPcp4_28
    OMPxF4[3] = 0
    ROcp5_15 = C3*C5-S3*S5
    ROcp5_35 = -C3*S5-S3*C5
    ROcp5_75 = C3*S5+S3*C5
    ROcp5_95 = C3*C5-S3*S5
    ROcp5_17 = ROcp5_15*C7-ROcp5_75*S7
    ROcp5_37 = ROcp5_35*C7-ROcp5_95*S7
    ROcp5_77 = ROcp5_15*S7+ROcp5_75*C7
    ROcp5_97 = ROcp5_35*S7+ROcp5_95*C7
    ROcp5_18 = ROcp5_17*C8-ROcp5_77*S8
    ROcp5_38 = ROcp5_37*C8-ROcp5_97*S8
    ROcp5_78 = ROcp5_17*S8+ROcp5_77*C8
    ROcp5_98 = ROcp5_37*S8+ROcp5_97*C8
    POcp5_32 = q[2]+s.dpt[3,1]
    POcp5_23 = s.dpt[2,2]+s.dpt[2,3]
    RLcp5_14 = Dz43*S3
    RLcp5_34 = Dz43*C3
    POcp5_14 = q[1]+RLcp5_14
    POcp5_24 = POcp5_23+s.dpt[2,4]
    POcp5_34 = POcp5_32+RLcp5_34
    ORcp5_14 = qd[3]*RLcp5_34
    ORcp5_34 = -qd[3]*RLcp5_14
    VIcp5_14 = qd[1]+ORcp5_14+qd[4]*S3
    VIcp5_34 = qd[2]+ORcp5_34+qd[4]*C3
    ACcp5_14 = qdd[1]+qd[3]*ORcp5_34+(2.0)*qd[3]*qd[4]*C3+qdd[3]*RLcp5_34+qdd[4]*S3
    ACcp5_34 = qdd[2]-qd[3]*ORcp5_14-(2.0)*qd[3]*qd[4]*S3-qdd[3]*RLcp5_14+qdd[4]*C3
    OMcp5_25 = qd[3]+qd[5]
    OPcp5_25 = qdd[3]+qdd[5]
    RLcp5_16 = ROcp5_75*Dz63
    RLcp5_36 = ROcp5_95*Dz63
    POcp5_16 = POcp5_14+RLcp5_16
    POcp5_36 = POcp5_34+RLcp5_36
    ORcp5_16 = OMcp5_25*RLcp5_36
    ORcp5_36 = -OMcp5_25*RLcp5_16
    VIcp5_16 = ORcp5_16+VIcp5_14+qd[6]*ROcp5_75
    VIcp5_36 = ORcp5_36+VIcp5_34+qd[6]*ROcp5_95
    ACcp5_16 = ACcp5_14+(2.0)*qd[6]*OMcp5_25*ROcp5_95+qdd[6]*ROcp5_75+OMcp5_25*ORcp5_36+OPcp5_25*RLcp5_36
    ACcp5_36 = ACcp5_34-(2.0)*qd[6]*OMcp5_25*ROcp5_75+qdd[6]*ROcp5_95-OMcp5_25*ORcp5_16-OPcp5_25*RLcp5_16
    OMcp5_27 = qd[7]+OMcp5_25
    OPcp5_27 = qdd[7]+OPcp5_25
    RLcp5_18 = ROcp5_77*s.dpt[3,7]
    RLcp5_38 = ROcp5_97*s.dpt[3,7]
    POcp5_18 = POcp5_16+RLcp5_18
    POcp5_38 = POcp5_36+RLcp5_38
    OMcp5_28 = qd[8]+OMcp5_27
    ORcp5_18 = OMcp5_27*RLcp5_38
    ORcp5_38 = -OMcp5_27*RLcp5_18
    VIcp5_18 = ORcp5_18+VIcp5_16
    VIcp5_38 = ORcp5_38+VIcp5_36
    OPcp5_28 = qdd[8]+OPcp5_27
    ACcp5_18 = ACcp5_16+OMcp5_27*ORcp5_38+OPcp5_27*RLcp5_38
    ACcp5_38 = ACcp5_36-OMcp5_27*ORcp5_18-OPcp5_27*RLcp5_18
    RLcp5_19 = ROcp5_18*s.dpt[1,12]+ROcp5_78*s.dpt[3,12]
    RLcp5_39 = ROcp5_38*s.dpt[1,12]+ROcp5_98*s.dpt[3,12]
    POcp5_19 = POcp5_18+RLcp5_19
    POcp5_29 = POcp5_24+s.dpt[2,12]
    POcp5_39 = POcp5_38+RLcp5_39
    ORcp5_19 = OMcp5_28*RLcp5_39
    ORcp5_39 = -OMcp5_28*RLcp5_19
    VIcp5_19 = ORcp5_19+VIcp5_18
    VIcp5_39 = ORcp5_39+VIcp5_38
    ACcp5_19 = ACcp5_18+OMcp5_28*ORcp5_39+OPcp5_28*RLcp5_39
    ACcp5_39 = ACcp5_38-OMcp5_28*ORcp5_19-OPcp5_28*RLcp5_19
    PxF5[1] = POcp5_19
    PxF5[2] = POcp5_29
    PxF5[3] = POcp5_39
    RxF5[1,1] = ROcp5_18
    RxF5[1,3] = ROcp5_38
    RxF5[2,2] = (1.0)
    RxF5[3,1] = ROcp5_78
    RxF5[3,3] = ROcp5_98
    VxF5[1] = VIcp5_19
    VxF5[2] = 0
    VxF5[3] = VIcp5_39
    OMxF5[1] = 0
    OMxF5[2] = OMcp5_28
    OMxF5[3] = 0
    AxF5[1] = ACcp5_19
    AxF5[2] = 0
    AxF5[3] = ACcp5_39
    OMPxF5[1] = 0
    OMPxF5[2] = OPcp5_28
    OMPxF5[3] = 0
    ROcp6_110 = C10*C3-S10*S3
    ROcp6_310 = -C10*S3-S10*C3
    ROcp6_710 = C10*S3+S10*C3
    ROcp6_910 = C10*C3-S10*S3
    ROcp6_112 = ROcp6_110*C12-ROcp6_710*S12
    ROcp6_312 = ROcp6_310*C12-ROcp6_910*S12
    ROcp6_712 = ROcp6_110*S12+ROcp6_710*C12
    ROcp6_912 = ROcp6_310*S12+ROcp6_910*C12
    ROcp6_113 = ROcp6_112*C13-ROcp6_712*S13
    ROcp6_313 = ROcp6_312*C13-ROcp6_912*S13
    ROcp6_713 = ROcp6_112*S13+ROcp6_712*C13
    ROcp6_913 = ROcp6_312*S13+ROcp6_912*C13
    POcp6_32 = q[2]+s.dpt[3,1]
    POcp6_23 = s.dpt[2,2]+s.dpt[2,3]
    RLcp6_14 = Dz93*S3
    RLcp6_34 = Dz93*C3
    POcp6_14 = q[1]+RLcp6_14
    POcp6_24 = POcp6_23+s.dpt[2,5]
    POcp6_34 = POcp6_32+RLcp6_34
    ORcp6_14 = qd[3]*RLcp6_34
    ORcp6_34 = -qd[3]*RLcp6_14
    VIcp6_14 = qd[1]+ORcp6_14+qd[9]*S3
    VIcp6_34 = qd[2]+ORcp6_34+qd[9]*C3
    ACcp6_14 = qdd[1]+qd[3]*ORcp6_34+(2.0)*qd[3]*qd[9]*C3+qdd[3]*RLcp6_34+qdd[9]*S3
    ACcp6_34 = qdd[2]-qd[3]*ORcp6_14-(2.0)*qd[3]*qd[9]*S3-qdd[3]*RLcp6_14+qdd[9]*C3
    OMcp6_25 = qd[10]+qd[3]
    OPcp6_25 = qdd[10]+qdd[3]
    RLcp6_16 = ROcp6_710*Dz113
    RLcp6_36 = ROcp6_910*Dz113
    POcp6_16 = POcp6_14+RLcp6_16
    POcp6_36 = POcp6_34+RLcp6_36
    ORcp6_16 = OMcp6_25*RLcp6_36
    ORcp6_36 = -OMcp6_25*RLcp6_16
    VIcp6_16 = ORcp6_16+VIcp6_14+qd[11]*ROcp6_710
    VIcp6_36 = ORcp6_36+VIcp6_34+qd[11]*ROcp6_910
    ACcp6_16 = ACcp6_14+(2.0)*qd[11]*OMcp6_25*ROcp6_910+qdd[11]*ROcp6_710+OMcp6_25*ORcp6_36+OPcp6_25*RLcp6_36
    ACcp6_36 = ACcp6_34-(2.0)*qd[11]*OMcp6_25*ROcp6_710+qdd[11]*ROcp6_910-OMcp6_25*ORcp6_16-OPcp6_25*RLcp6_16
    OMcp6_27 = qd[12]+OMcp6_25
    OPcp6_27 = qdd[12]+OPcp6_25
    RLcp6_18 = ROcp6_712*s.dpt[3,14]
    RLcp6_38 = ROcp6_912*s.dpt[3,14]
    POcp6_18 = POcp6_16+RLcp6_18
    POcp6_38 = POcp6_36+RLcp6_38
    OMcp6_28 = qd[13]+OMcp6_27
    ORcp6_18 = OMcp6_27*RLcp6_38
    ORcp6_38 = -OMcp6_27*RLcp6_18
    VIcp6_18 = ORcp6_18+VIcp6_16
    VIcp6_38 = ORcp6_38+VIcp6_36
    OPcp6_28 = qdd[13]+OPcp6_27
    ACcp6_18 = ACcp6_16+OMcp6_27*ORcp6_38+OPcp6_27*RLcp6_38
    ACcp6_38 = ACcp6_36-OMcp6_27*ORcp6_18-OPcp6_27*RLcp6_18
    RLcp6_19 = ROcp6_113*s.dpt[1,15]+ROcp6_713*s.dpt[3,15]
    RLcp6_39 = ROcp6_313*s.dpt[1,15]+ROcp6_913*s.dpt[3,15]
    POcp6_19 = POcp6_18+RLcp6_19
    POcp6_29 = POcp6_24+s.dpt[2,15]
    POcp6_39 = POcp6_38+RLcp6_39
    ORcp6_19 = OMcp6_28*RLcp6_39
    ORcp6_39 = -OMcp6_28*RLcp6_19
    VIcp6_19 = ORcp6_19+VIcp6_18
    VIcp6_39 = ORcp6_39+VIcp6_38
    ACcp6_19 = ACcp6_18+OMcp6_28*ORcp6_39+OPcp6_28*RLcp6_39
    ACcp6_39 = ACcp6_38-OMcp6_28*ORcp6_19-OPcp6_28*RLcp6_19
    PxF6[1] = POcp6_19
    PxF6[2] = POcp6_29
    PxF6[3] = POcp6_39
    RxF6[1,1] = ROcp6_113
    RxF6[1,3] = ROcp6_313
    RxF6[2,2] = (1.0)
    RxF6[3,1] = ROcp6_713
    RxF6[3,3] = ROcp6_913
    VxF6[1] = VIcp6_19
    VxF6[2] = 0
    VxF6[3] = VIcp6_39
    OMxF6[1] = 0
    OMxF6[2] = OMcp6_28
    OMxF6[3] = 0
    AxF6[1] = ACcp6_19
    AxF6[2] = 0
    AxF6[3] = ACcp6_39
    OMPxF6[1] = 0
    OMPxF6[2] = OPcp6_28
    OMPxF6[3] = 0
    ROcp7_110 = C10*C3-S10*S3
    ROcp7_310 = -C10*S3-S10*C3
    ROcp7_710 = C10*S3+S10*C3
    ROcp7_910 = C10*C3-S10*S3
    ROcp7_112 = ROcp7_110*C12-ROcp7_710*S12
    ROcp7_312 = ROcp7_310*C12-ROcp7_910*S12
    ROcp7_712 = ROcp7_110*S12+ROcp7_710*C12
    ROcp7_912 = ROcp7_310*S12+ROcp7_910*C12
    ROcp7_113 = ROcp7_112*C13-ROcp7_712*S13
    ROcp7_313 = ROcp7_312*C13-ROcp7_912*S13
    ROcp7_713 = ROcp7_112*S13+ROcp7_712*C13
    ROcp7_913 = ROcp7_312*S13+ROcp7_912*C13
    POcp7_32 = q[2]+s.dpt[3,1]
    POcp7_23 = s.dpt[2,2]+s.dpt[2,3]
    RLcp7_14 = Dz93*S3
    RLcp7_34 = Dz93*C3
    POcp7_14 = q[1]+RLcp7_14
    POcp7_24 = POcp7_23+s.dpt[2,5]
    POcp7_34 = POcp7_32+RLcp7_34
    ORcp7_14 = qd[3]*RLcp7_34
    ORcp7_34 = -qd[3]*RLcp7_14
    VIcp7_14 = qd[1]+ORcp7_14+qd[9]*S3
    VIcp7_34 = qd[2]+ORcp7_34+qd[9]*C3
    ACcp7_14 = qdd[1]+qd[3]*ORcp7_34+(2.0)*qd[3]*qd[9]*C3+qdd[3]*RLcp7_34+qdd[9]*S3
    ACcp7_34 = qdd[2]-qd[3]*ORcp7_14-(2.0)*qd[3]*qd[9]*S3-qdd[3]*RLcp7_14+qdd[9]*C3
    OMcp7_25 = qd[10]+qd[3]
    OPcp7_25 = qdd[10]+qdd[3]
    RLcp7_16 = ROcp7_710*Dz113
    RLcp7_36 = ROcp7_910*Dz113
    POcp7_16 = POcp7_14+RLcp7_16
    POcp7_36 = POcp7_34+RLcp7_36
    ORcp7_16 = OMcp7_25*RLcp7_36
    ORcp7_36 = -OMcp7_25*RLcp7_16
    VIcp7_16 = ORcp7_16+VIcp7_14+qd[11]*ROcp7_710
    VIcp7_36 = ORcp7_36+VIcp7_34+qd[11]*ROcp7_910
    ACcp7_16 = ACcp7_14+(2.0)*qd[11]*OMcp7_25*ROcp7_910+qdd[11]*ROcp7_710+OMcp7_25*ORcp7_36+OPcp7_25*RLcp7_36
    ACcp7_36 = ACcp7_34-(2.0)*qd[11]*OMcp7_25*ROcp7_710+qdd[11]*ROcp7_910-OMcp7_25*ORcp7_16-OPcp7_25*RLcp7_16
    OMcp7_27 = qd[12]+OMcp7_25
    OPcp7_27 = qdd[12]+OPcp7_25
    RLcp7_18 = ROcp7_712*s.dpt[3,14]
    RLcp7_38 = ROcp7_912*s.dpt[3,14]
    POcp7_18 = POcp7_16+RLcp7_18
    POcp7_38 = POcp7_36+RLcp7_38
    OMcp7_28 = qd[13]+OMcp7_27
    ORcp7_18 = OMcp7_27*RLcp7_38
    ORcp7_38 = -OMcp7_27*RLcp7_18
    VIcp7_18 = ORcp7_18+VIcp7_16
    VIcp7_38 = ORcp7_38+VIcp7_36
    OPcp7_28 = qdd[13]+OPcp7_27
    ACcp7_18 = ACcp7_16+OMcp7_27*ORcp7_38+OPcp7_27*RLcp7_38
    ACcp7_38 = ACcp7_36-OMcp7_27*ORcp7_18-OPcp7_27*RLcp7_18
    RLcp7_19 = ROcp7_113*s.dpt[1,16]+ROcp7_713*s.dpt[3,16]
    RLcp7_39 = ROcp7_313*s.dpt[1,16]+ROcp7_913*s.dpt[3,16]
    POcp7_19 = POcp7_18+RLcp7_19
    POcp7_29 = POcp7_24+s.dpt[2,16]
    POcp7_39 = POcp7_38+RLcp7_39
    ORcp7_19 = OMcp7_28*RLcp7_39
    ORcp7_39 = -OMcp7_28*RLcp7_19
    VIcp7_19 = ORcp7_19+VIcp7_18
    VIcp7_39 = ORcp7_39+VIcp7_38
    ACcp7_19 = ACcp7_18+OMcp7_28*ORcp7_39+OPcp7_28*RLcp7_39
    ACcp7_39 = ACcp7_38-OMcp7_28*ORcp7_19-OPcp7_28*RLcp7_19
    PxF7[1] = POcp7_19
    PxF7[2] = POcp7_29
    PxF7[3] = POcp7_39
    RxF7[1,1] = ROcp7_113
    RxF7[1,3] = ROcp7_313
    RxF7[2,2] = (1.0)
    RxF7[3,1] = ROcp7_713
    RxF7[3,3] = ROcp7_913
    VxF7[1] = VIcp7_19
    VxF7[2] = 0
    VxF7[3] = VIcp7_39
    OMxF7[1] = 0
    OMxF7[2] = OMcp7_28
    OMxF7[3] = 0
    AxF7[1] = ACcp7_19
    AxF7[2] = 0
    AxF7[3] = ACcp7_39
    OMPxF7[1] = 0
    OMPxF7[2] = OPcp7_28
    OMPxF7[3] = 0
    ROcp8_110 = C10*C3-S10*S3
    ROcp8_310 = -C10*S3-S10*C3
    ROcp8_710 = C10*S3+S10*C3
    ROcp8_910 = C10*C3-S10*S3
    ROcp8_112 = ROcp8_110*C12-ROcp8_710*S12
    ROcp8_312 = ROcp8_310*C12-ROcp8_910*S12
    ROcp8_712 = ROcp8_110*S12+ROcp8_710*C12
    ROcp8_912 = ROcp8_310*S12+ROcp8_910*C12
    ROcp8_113 = ROcp8_112*C13-ROcp8_712*S13
    ROcp8_313 = ROcp8_312*C13-ROcp8_912*S13
    ROcp8_713 = ROcp8_112*S13+ROcp8_712*C13
    ROcp8_913 = ROcp8_312*S13+ROcp8_912*C13
    POcp8_32 = q[2]+s.dpt[3,1]
    POcp8_23 = s.dpt[2,2]+s.dpt[2,3]
    RLcp8_14 = Dz93*S3
    RLcp8_34 = Dz93*C3
    POcp8_14 = q[1]+RLcp8_14
    POcp8_24 = POcp8_23+s.dpt[2,5]
    POcp8_34 = POcp8_32+RLcp8_34
    ORcp8_14 = qd[3]*RLcp8_34
    ORcp8_34 = -qd[3]*RLcp8_14
    VIcp8_14 = qd[1]+ORcp8_14+qd[9]*S3
    VIcp8_34 = qd[2]+ORcp8_34+qd[9]*C3
    ACcp8_14 = qdd[1]+qd[3]*ORcp8_34+(2.0)*qd[3]*qd[9]*C3+qdd[3]*RLcp8_34+qdd[9]*S3
    ACcp8_34 = qdd[2]-qd[3]*ORcp8_14-(2.0)*qd[3]*qd[9]*S3-qdd[3]*RLcp8_14+qdd[9]*C3
    OMcp8_25 = qd[10]+qd[3]
    OPcp8_25 = qdd[10]+qdd[3]
    RLcp8_16 = ROcp8_710*Dz113
    RLcp8_36 = ROcp8_910*Dz113
    POcp8_16 = POcp8_14+RLcp8_16
    POcp8_36 = POcp8_34+RLcp8_36
    ORcp8_16 = OMcp8_25*RLcp8_36
    ORcp8_36 = -OMcp8_25*RLcp8_16
    VIcp8_16 = ORcp8_16+VIcp8_14+qd[11]*ROcp8_710
    VIcp8_36 = ORcp8_36+VIcp8_34+qd[11]*ROcp8_910
    ACcp8_16 = ACcp8_14+(2.0)*qd[11]*OMcp8_25*ROcp8_910+qdd[11]*ROcp8_710+OMcp8_25*ORcp8_36+OPcp8_25*RLcp8_36
    ACcp8_36 = ACcp8_34-(2.0)*qd[11]*OMcp8_25*ROcp8_710+qdd[11]*ROcp8_910-OMcp8_25*ORcp8_16-OPcp8_25*RLcp8_16
    OMcp8_27 = qd[12]+OMcp8_25
    OPcp8_27 = qdd[12]+OPcp8_25
    RLcp8_18 = ROcp8_712*s.dpt[3,14]
    RLcp8_38 = ROcp8_912*s.dpt[3,14]
    POcp8_18 = POcp8_16+RLcp8_18
    POcp8_38 = POcp8_36+RLcp8_38
    OMcp8_28 = qd[13]+OMcp8_27
    ORcp8_18 = OMcp8_27*RLcp8_38
    ORcp8_38 = -OMcp8_27*RLcp8_18
    VIcp8_18 = ORcp8_18+VIcp8_16
    VIcp8_38 = ORcp8_38+VIcp8_36
    OPcp8_28 = qdd[13]+OPcp8_27
    ACcp8_18 = ACcp8_16+OMcp8_27*ORcp8_38+OPcp8_27*RLcp8_38
    ACcp8_38 = ACcp8_36-OMcp8_27*ORcp8_18-OPcp8_27*RLcp8_18
    RLcp8_19 = ROcp8_713*s.dpt[3,17]
    RLcp8_39 = ROcp8_913*s.dpt[3,17]
    POcp8_19 = POcp8_18+RLcp8_19
    POcp8_39 = POcp8_38+RLcp8_39
    ORcp8_19 = OMcp8_28*RLcp8_39
    ORcp8_39 = -OMcp8_28*RLcp8_19
    VIcp8_19 = ORcp8_19+VIcp8_18
    VIcp8_39 = ORcp8_39+VIcp8_38
    ACcp8_19 = ACcp8_18+OMcp8_28*ORcp8_39+OPcp8_28*RLcp8_39
    ACcp8_39 = ACcp8_38-OMcp8_28*ORcp8_19-OPcp8_28*RLcp8_19
    PxF8[1] = POcp8_19
    PxF8[2] = POcp8_24
    PxF8[3] = POcp8_39
    RxF8[1,1] = ROcp8_113
    RxF8[1,3] = ROcp8_313
    RxF8[2,2] = (1.0)
    RxF8[3,1] = ROcp8_713
    RxF8[3,3] = ROcp8_913
    VxF8[1] = VIcp8_19
    VxF8[2] = 0
    VxF8[3] = VIcp8_39
    OMxF8[1] = 0
    OMxF8[2] = OMcp8_28
    OMxF8[3] = 0
    AxF8[1] = ACcp8_19
    AxF8[2] = 0
    AxF8[3] = ACcp8_39
    OMPxF8[1] = 0
    OMPxF8[2] = OPcp8_28
    OMPxF8[3] = 0
    ROcp9_110 = C10*C3-S10*S3
    ROcp9_310 = -C10*S3-S10*C3
    ROcp9_710 = C10*S3+S10*C3
    ROcp9_910 = C10*C3-S10*S3
    ROcp9_112 = ROcp9_110*C12-ROcp9_710*S12
    ROcp9_312 = ROcp9_310*C12-ROcp9_910*S12
    ROcp9_712 = ROcp9_110*S12+ROcp9_710*C12
    ROcp9_912 = ROcp9_310*S12+ROcp9_910*C12
    ROcp9_113 = ROcp9_112*C13-ROcp9_712*S13
    ROcp9_313 = ROcp9_312*C13-ROcp9_912*S13
    ROcp9_713 = ROcp9_112*S13+ROcp9_712*C13
    ROcp9_913 = ROcp9_312*S13+ROcp9_912*C13
    POcp9_32 = q[2]+s.dpt[3,1]
    POcp9_23 = s.dpt[2,2]+s.dpt[2,3]
    RLcp9_14 = Dz93*S3
    RLcp9_34 = Dz93*C3
    POcp9_14 = q[1]+RLcp9_14
    POcp9_24 = POcp9_23+s.dpt[2,5]
    POcp9_34 = POcp9_32+RLcp9_34
    ORcp9_14 = qd[3]*RLcp9_34
    ORcp9_34 = -qd[3]*RLcp9_14
    VIcp9_14 = qd[1]+ORcp9_14+qd[9]*S3
    VIcp9_34 = qd[2]+ORcp9_34+qd[9]*C3
    ACcp9_14 = qdd[1]+qd[3]*ORcp9_34+(2.0)*qd[3]*qd[9]*C3+qdd[3]*RLcp9_34+qdd[9]*S3
    ACcp9_34 = qdd[2]-qd[3]*ORcp9_14-(2.0)*qd[3]*qd[9]*S3-qdd[3]*RLcp9_14+qdd[9]*C3
    OMcp9_25 = qd[10]+qd[3]
    OPcp9_25 = qdd[10]+qdd[3]
    RLcp9_16 = ROcp9_710*Dz113
    RLcp9_36 = ROcp9_910*Dz113
    POcp9_16 = POcp9_14+RLcp9_16
    POcp9_36 = POcp9_34+RLcp9_36
    ORcp9_16 = OMcp9_25*RLcp9_36
    ORcp9_36 = -OMcp9_25*RLcp9_16
    VIcp9_16 = ORcp9_16+VIcp9_14+qd[11]*ROcp9_710
    VIcp9_36 = ORcp9_36+VIcp9_34+qd[11]*ROcp9_910
    ACcp9_16 = ACcp9_14+(2.0)*qd[11]*OMcp9_25*ROcp9_910+qdd[11]*ROcp9_710+OMcp9_25*ORcp9_36+OPcp9_25*RLcp9_36
    ACcp9_36 = ACcp9_34-(2.0)*qd[11]*OMcp9_25*ROcp9_710+qdd[11]*ROcp9_910-OMcp9_25*ORcp9_16-OPcp9_25*RLcp9_16
    OMcp9_27 = qd[12]+OMcp9_25
    OPcp9_27 = qdd[12]+OPcp9_25
    RLcp9_18 = ROcp9_712*s.dpt[3,14]
    RLcp9_38 = ROcp9_912*s.dpt[3,14]
    POcp9_18 = POcp9_16+RLcp9_18
    POcp9_38 = POcp9_36+RLcp9_38
    OMcp9_28 = qd[13]+OMcp9_27
    ORcp9_18 = OMcp9_27*RLcp9_38
    ORcp9_38 = -OMcp9_27*RLcp9_18
    VIcp9_18 = ORcp9_18+VIcp9_16
    VIcp9_38 = ORcp9_38+VIcp9_36
    OPcp9_28 = qdd[13]+OPcp9_27
    ACcp9_18 = ACcp9_16+OMcp9_27*ORcp9_38+OPcp9_27*RLcp9_38
    ACcp9_38 = ACcp9_36-OMcp9_27*ORcp9_18-OPcp9_27*RLcp9_18
    RLcp9_19 = ROcp9_113*s.dpt[1,18]+ROcp9_713*s.dpt[3,18]
    RLcp9_39 = ROcp9_313*s.dpt[1,18]+ROcp9_913*s.dpt[3,18]
    POcp9_19 = POcp9_18+RLcp9_19
    POcp9_29 = POcp9_24+s.dpt[2,18]
    POcp9_39 = POcp9_38+RLcp9_39
    ORcp9_19 = OMcp9_28*RLcp9_39
    ORcp9_39 = -OMcp9_28*RLcp9_19
    VIcp9_19 = ORcp9_19+VIcp9_18
    VIcp9_39 = ORcp9_39+VIcp9_38
    ACcp9_19 = ACcp9_18+OMcp9_28*ORcp9_39+OPcp9_28*RLcp9_39
    ACcp9_39 = ACcp9_38-OMcp9_28*ORcp9_19-OPcp9_28*RLcp9_19
    PxF9[1] = POcp9_19
    PxF9[2] = POcp9_29
    PxF9[3] = POcp9_39
    RxF9[1,1] = ROcp9_113
    RxF9[1,3] = ROcp9_313
    RxF9[2,2] = (1.0)
    RxF9[3,1] = ROcp9_713
    RxF9[3,3] = ROcp9_913
    VxF9[1] = VIcp9_19
    VxF9[2] = 0
    VxF9[3] = VIcp9_39
    OMxF9[1] = 0
    OMxF9[2] = OMcp9_28
    OMxF9[3] = 0
    AxF9[1] = ACcp9_19
    AxF9[2] = 0
    AxF9[3] = ACcp9_39
    OMPxF9[1] = 0
    OMPxF9[2] = OPcp9_28
    OMPxF9[3] = 0
    ROcp10_110 = C10*C3-S10*S3
    ROcp10_310 = -C10*S3-S10*C3
    ROcp10_710 = C10*S3+S10*C3
    ROcp10_910 = C10*C3-S10*S3
    ROcp10_112 = ROcp10_110*C12-ROcp10_710*S12
    ROcp10_312 = ROcp10_310*C12-ROcp10_910*S12
    ROcp10_712 = ROcp10_110*S12+ROcp10_710*C12
    ROcp10_912 = ROcp10_310*S12+ROcp10_910*C12
    ROcp10_113 = ROcp10_112*C13-ROcp10_712*S13
    ROcp10_313 = ROcp10_312*C13-ROcp10_912*S13
    ROcp10_713 = ROcp10_112*S13+ROcp10_712*C13
    ROcp10_913 = ROcp10_312*S13+ROcp10_912*C13
    POcp10_32 = q[2]+s.dpt[3,1]
    POcp10_23 = s.dpt[2,2]+s.dpt[2,3]
    RLcp10_14 = Dz93*S3
    RLcp10_34 = Dz93*C3
    POcp10_14 = q[1]+RLcp10_14
    POcp10_24 = POcp10_23+s.dpt[2,5]
    POcp10_34 = POcp10_32+RLcp10_34
    ORcp10_14 = qd[3]*RLcp10_34
    ORcp10_34 = -qd[3]*RLcp10_14
    VIcp10_14 = qd[1]+ORcp10_14+qd[9]*S3
    VIcp10_34 = qd[2]+ORcp10_34+qd[9]*C3
    ACcp10_14 = qdd[1]+qd[3]*ORcp10_34+(2.0)*qd[3]*qd[9]*C3+qdd[3]*RLcp10_34+qdd[9]*S3
    ACcp10_34 = qdd[2]-qd[3]*ORcp10_14-(2.0)*qd[3]*qd[9]*S3-qdd[3]*RLcp10_14+qdd[9]*C3
    OMcp10_25 = qd[10]+qd[3]
    OPcp10_25 = qdd[10]+qdd[3]
    RLcp10_16 = ROcp10_710*Dz113
    RLcp10_36 = ROcp10_910*Dz113
    POcp10_16 = POcp10_14+RLcp10_16
    POcp10_36 = POcp10_34+RLcp10_36
    ORcp10_16 = OMcp10_25*RLcp10_36
    ORcp10_36 = -OMcp10_25*RLcp10_16
    VIcp10_16 = ORcp10_16+VIcp10_14+qd[11]*ROcp10_710
    VIcp10_36 = ORcp10_36+VIcp10_34+qd[11]*ROcp10_910
    ACcp10_16 = ACcp10_14+(2.0)*qd[11]*OMcp10_25*ROcp10_910+qdd[11]*ROcp10_710+OMcp10_25*ORcp10_36+OPcp10_25*RLcp10_36
    ACcp10_36 = ACcp10_34-(2.0)*qd[11]*OMcp10_25*ROcp10_710+qdd[11]*ROcp10_910-OMcp10_25*ORcp10_16-OPcp10_25*RLcp10_16
    OMcp10_27 = qd[12]+OMcp10_25
    OPcp10_27 = qdd[12]+OPcp10_25
    RLcp10_18 = ROcp10_712*s.dpt[3,14]
    RLcp10_38 = ROcp10_912*s.dpt[3,14]
    POcp10_18 = POcp10_16+RLcp10_18
    POcp10_38 = POcp10_36+RLcp10_38
    OMcp10_28 = qd[13]+OMcp10_27
    ORcp10_18 = OMcp10_27*RLcp10_38
    ORcp10_38 = -OMcp10_27*RLcp10_18
    VIcp10_18 = ORcp10_18+VIcp10_16
    VIcp10_38 = ORcp10_38+VIcp10_36
    OPcp10_28 = qdd[13]+OPcp10_27
    ACcp10_18 = ACcp10_16+OMcp10_27*ORcp10_38+OPcp10_27*RLcp10_38
    ACcp10_38 = ACcp10_36-OMcp10_27*ORcp10_18-OPcp10_27*RLcp10_18
    RLcp10_19 = ROcp10_113*s.dpt[1,19]+ROcp10_713*s.dpt[3,19]
    RLcp10_39 = ROcp10_313*s.dpt[1,19]+ROcp10_913*s.dpt[3,19]
    POcp10_19 = POcp10_18+RLcp10_19
    POcp10_29 = POcp10_24+s.dpt[2,19]
    POcp10_39 = POcp10_38+RLcp10_39
    ORcp10_19 = OMcp10_28*RLcp10_39
    ORcp10_39 = -OMcp10_28*RLcp10_19
    VIcp10_19 = ORcp10_19+VIcp10_18
    VIcp10_39 = ORcp10_39+VIcp10_38
    ACcp10_19 = ACcp10_18+OMcp10_28*ORcp10_39+OPcp10_28*RLcp10_39
    ACcp10_39 = ACcp10_38-OMcp10_28*ORcp10_19-OPcp10_28*RLcp10_19
    PxF10[1] = POcp10_19
    PxF10[2] = POcp10_29
    PxF10[3] = POcp10_39
    RxF10[1,1] = ROcp10_113
    RxF10[1,3] = ROcp10_313
    RxF10[2,2] = (1.0)
    RxF10[3,1] = ROcp10_713
    RxF10[3,3] = ROcp10_913
    VxF10[1] = VIcp10_19
    VxF10[2] = 0
    VxF10[3] = VIcp10_39
    OMxF10[1] = 0
    OMxF10[2] = OMcp10_28
    OMxF10[3] = 0
    AxF10[1] = ACcp10_19
    AxF10[2] = 0
    AxF10[3] = ACcp10_39
    OMPxF10[1] = 0
    OMPxF10[2] = OPcp10_28
    OMPxF10[3] = 0
 
# Sensor Forces 

    SWr1 = s.user_ExtForces(PxF1,RxF1,VxF1,OMxF1,AxF1,OMPxF1,s,tsim,1)
    SWr2 = s.user_ExtForces(PxF2,RxF2,VxF2,OMxF2,AxF2,OMPxF2,s,tsim,2)
    SWr3 = s.user_ExtForces(PxF3,RxF3,VxF3,OMxF3,AxF3,OMPxF3,s,tsim,3)
    SWr4 = s.user_ExtForces(PxF4,RxF4,VxF4,OMxF4,AxF4,OMPxF4,s,tsim,4)
    SWr5 = s.user_ExtForces(PxF5,RxF5,VxF5,OMxF5,AxF5,OMPxF5,s,tsim,5)
    SWr6 = s.user_ExtForces(PxF6,RxF6,VxF6,OMxF6,AxF6,OMPxF6,s,tsim,6)
    SWr7 = s.user_ExtForces(PxF7,RxF7,VxF7,OMxF7,AxF7,OMPxF7,s,tsim,7)
    SWr8 = s.user_ExtForces(PxF8,RxF8,VxF8,OMxF8,AxF8,OMPxF8,s,tsim,8)
    SWr9 = s.user_ExtForces(PxF9,RxF9,VxF9,OMxF9,AxF9,OMPxF9,s,tsim,9)
    SWr10 = s.user_ExtForces(PxF10,RxF10,VxF10,OMxF10,AxF10,OMPxF10,s,tsim,10)
    xfrc11 = RxF1[1,1]*SWr1[1]+RxF1[1,3]*SWr1[3]
    xfrc21 = RxF1[2,2]*SWr1[2]
    xfrc31 = RxF1[3,1]*SWr1[1]+RxF1[3,3]*SWr1[3]
    xtrq11 = RxF1[1,1]*SWr1[4]+RxF1[1,3]*SWr1[6]
    xtrq21 = RxF1[2,2]*SWr1[5]
    xtrq31 = RxF1[3,1]*SWr1[4]+RxF1[3,3]*SWr1[6]
    trqext_1_8_0 = xtrq11-xfrc21*(SWr1[9]-s.l[3,8])+xfrc31*SWr1[8]
    trqext_2_8_0 = xtrq21+xfrc11*(SWr1[9]-s.l[3,8])-xfrc31*SWr1[7]
    trqext_3_8_0 = xtrq31-xfrc11*SWr1[8]+xfrc21*SWr1[7]
    xfrc12 = RxF2[1,1]*SWr2[1]+RxF2[1,3]*SWr2[3]
    xfrc22 = RxF2[2,2]*SWr2[2]
    xfrc32 = RxF2[3,1]*SWr2[1]+RxF2[3,3]*SWr2[3]
    frcext_1_8_1 = xfrc11+xfrc12
    frcext_2_8_1 = xfrc21+xfrc22
    frcext_3_8_1 = xfrc31+xfrc32
    xtrq12 = RxF2[1,1]*SWr2[4]+RxF2[1,3]*SWr2[6]
    xtrq22 = RxF2[2,2]*SWr2[5]
    xtrq32 = RxF2[3,1]*SWr2[4]+RxF2[3,3]*SWr2[6]
    trqext_1_8_1 = trqext_1_8_0+xtrq12-xfrc22*(SWr2[9]-s.l[3,8])+xfrc32*SWr2[8]
    trqext_2_8_1 = trqext_2_8_0+xtrq22+xfrc12*(SWr2[9]-s.l[3,8])-xfrc32*SWr2[7]
    trqext_3_8_1 = trqext_3_8_0+xtrq32-xfrc12*SWr2[8]+xfrc22*SWr2[7]
    xfrc13 = RxF3[1,1]*SWr3[1]+RxF3[1,3]*SWr3[3]
    xfrc23 = RxF3[2,2]*SWr3[2]
    xfrc33 = RxF3[3,1]*SWr3[1]+RxF3[3,3]*SWr3[3]
    frcext_1_8_2 = frcext_1_8_1+xfrc13
    frcext_2_8_2 = frcext_2_8_1+xfrc23
    frcext_3_8_2 = frcext_3_8_1+xfrc33
    xtrq13 = RxF3[1,1]*SWr3[4]+RxF3[1,3]*SWr3[6]
    xtrq23 = RxF3[2,2]*SWr3[5]
    xtrq33 = RxF3[3,1]*SWr3[4]+RxF3[3,3]*SWr3[6]
    trqext_1_8_2 = trqext_1_8_1+xtrq13-xfrc23*(SWr3[9]-s.l[3,8])+xfrc33*SWr3[8]
    trqext_2_8_2 = trqext_2_8_1+xtrq23+xfrc13*(SWr3[9]-s.l[3,8])-xfrc33*SWr3[7]
    trqext_3_8_2 = trqext_3_8_1+xtrq33-xfrc13*SWr3[8]+xfrc23*SWr3[7]
    xfrc14 = RxF4[1,1]*SWr4[1]+RxF4[1,3]*SWr4[3]
    xfrc24 = RxF4[2,2]*SWr4[2]
    xfrc34 = RxF4[3,1]*SWr4[1]+RxF4[3,3]*SWr4[3]
    frcext_1_8_3 = frcext_1_8_2+xfrc14
    frcext_2_8_3 = frcext_2_8_2+xfrc24
    frcext_3_8_3 = frcext_3_8_2+xfrc34
    xtrq14 = RxF4[1,1]*SWr4[4]+RxF4[1,3]*SWr4[6]
    xtrq24 = RxF4[2,2]*SWr4[5]
    xtrq34 = RxF4[3,1]*SWr4[4]+RxF4[3,3]*SWr4[6]
    trqext_1_8_3 = trqext_1_8_2+xtrq14-xfrc24*(SWr4[9]-s.l[3,8])+xfrc34*SWr4[8]
    trqext_2_8_3 = trqext_2_8_2+xtrq24+xfrc14*(SWr4[9]-s.l[3,8])-xfrc34*SWr4[7]
    trqext_3_8_3 = trqext_3_8_2+xtrq34-xfrc14*SWr4[8]+xfrc24*SWr4[7]
    xfrc15 = RxF5[1,1]*SWr5[1]+RxF5[1,3]*SWr5[3]
    xfrc25 = RxF5[2,2]*SWr5[2]
    xfrc35 = RxF5[3,1]*SWr5[1]+RxF5[3,3]*SWr5[3]
    frcext_1_8_4 = frcext_1_8_3+xfrc15
    frcext_2_8_4 = frcext_2_8_3+xfrc25
    frcext_3_8_4 = frcext_3_8_3+xfrc35
    xtrq15 = RxF5[1,1]*SWr5[4]+RxF5[1,3]*SWr5[6]
    xtrq25 = RxF5[2,2]*SWr5[5]
    xtrq35 = RxF5[3,1]*SWr5[4]+RxF5[3,3]*SWr5[6]
    trqext_1_8_4 = trqext_1_8_3+xtrq15-xfrc25*(SWr5[9]-s.l[3,8])+xfrc35*SWr5[8]
    trqext_2_8_4 = trqext_2_8_3+xtrq25+xfrc15*(SWr5[9]-s.l[3,8])-xfrc35*SWr5[7]
    trqext_3_8_4 = trqext_3_8_3+xtrq35-xfrc15*SWr5[8]+xfrc25*SWr5[7]
    xfrc16 = RxF6[1,1]*SWr6[1]+RxF6[1,3]*SWr6[3]
    xfrc26 = RxF6[2,2]*SWr6[2]
    xfrc36 = RxF6[3,1]*SWr6[1]+RxF6[3,3]*SWr6[3]
    xtrq16 = RxF6[1,1]*SWr6[4]+RxF6[1,3]*SWr6[6]
    xtrq26 = RxF6[2,2]*SWr6[5]
    xtrq36 = RxF6[3,1]*SWr6[4]+RxF6[3,3]*SWr6[6]
    trqext_1_13_5 = xtrq16-xfrc26*(SWr6[9]-s.l[3,13])+xfrc36*SWr6[8]
    trqext_2_13_5 = xtrq26+xfrc16*(SWr6[9]-s.l[3,13])-xfrc36*SWr6[7]
    trqext_3_13_5 = xtrq36-xfrc16*SWr6[8]+xfrc26*SWr6[7]
    xfrc17 = RxF7[1,1]*SWr7[1]+RxF7[1,3]*SWr7[3]
    xfrc27 = RxF7[2,2]*SWr7[2]
    xfrc37 = RxF7[3,1]*SWr7[1]+RxF7[3,3]*SWr7[3]
    frcext_1_13_6 = xfrc16+xfrc17
    frcext_2_13_6 = xfrc26+xfrc27
    frcext_3_13_6 = xfrc36+xfrc37
    xtrq17 = RxF7[1,1]*SWr7[4]+RxF7[1,3]*SWr7[6]
    xtrq27 = RxF7[2,2]*SWr7[5]
    xtrq37 = RxF7[3,1]*SWr7[4]+RxF7[3,3]*SWr7[6]
    trqext_1_13_6 = trqext_1_13_5+xtrq17-xfrc27*(SWr7[9]-s.l[3,13])+xfrc37*SWr7[8]
    trqext_2_13_6 = trqext_2_13_5+xtrq27+xfrc17*(SWr7[9]-s.l[3,13])-xfrc37*SWr7[7]
    trqext_3_13_6 = trqext_3_13_5+xtrq37-xfrc17*SWr7[8]+xfrc27*SWr7[7]
    xfrc18 = RxF8[1,1]*SWr8[1]+RxF8[1,3]*SWr8[3]
    xfrc28 = RxF8[2,2]*SWr8[2]
    xfrc38 = RxF8[3,1]*SWr8[1]+RxF8[3,3]*SWr8[3]
    frcext_1_13_7 = frcext_1_13_6+xfrc18
    frcext_2_13_7 = frcext_2_13_6+xfrc28
    frcext_3_13_7 = frcext_3_13_6+xfrc38
    xtrq18 = RxF8[1,1]*SWr8[4]+RxF8[1,3]*SWr8[6]
    xtrq28 = RxF8[2,2]*SWr8[5]
    xtrq38 = RxF8[3,1]*SWr8[4]+RxF8[3,3]*SWr8[6]
    trqext_1_13_7 = trqext_1_13_6+xtrq18-xfrc28*(SWr8[9]-s.l[3,13])+xfrc38*SWr8[8]
    trqext_2_13_7 = trqext_2_13_6+xtrq28+xfrc18*(SWr8[9]-s.l[3,13])-xfrc38*SWr8[7]
    trqext_3_13_7 = trqext_3_13_6+xtrq38-xfrc18*SWr8[8]+xfrc28*SWr8[7]
    xfrc19 = RxF9[1,1]*SWr9[1]+RxF9[1,3]*SWr9[3]
    xfrc29 = RxF9[2,2]*SWr9[2]
    xfrc39 = RxF9[3,1]*SWr9[1]+RxF9[3,3]*SWr9[3]
    frcext_1_13_8 = frcext_1_13_7+xfrc19
    frcext_2_13_8 = frcext_2_13_7+xfrc29
    frcext_3_13_8 = frcext_3_13_7+xfrc39
    xtrq19 = RxF9[1,1]*SWr9[4]+RxF9[1,3]*SWr9[6]
    xtrq29 = RxF9[2,2]*SWr9[5]
    xtrq39 = RxF9[3,1]*SWr9[4]+RxF9[3,3]*SWr9[6]
    trqext_1_13_8 = trqext_1_13_7+xtrq19-xfrc29*(SWr9[9]-s.l[3,13])+xfrc39*SWr9[8]
    trqext_2_13_8 = trqext_2_13_7+xtrq29+xfrc19*(SWr9[9]-s.l[3,13])-xfrc39*SWr9[7]
    trqext_3_13_8 = trqext_3_13_7+xtrq39-xfrc19*SWr9[8]+xfrc29*SWr9[7]
    xfrc110 = RxF10[1,1]*SWr10[1]+RxF10[1,3]*SWr10[3]
    xfrc210 = RxF10[2,2]*SWr10[2]
    xfrc310 = RxF10[3,1]*SWr10[1]+RxF10[3,3]*SWr10[3]
    frcext_1_13_9 = frcext_1_13_8+xfrc110
    frcext_2_13_9 = frcext_2_13_8+xfrc210
    frcext_3_13_9 = frcext_3_13_8+xfrc310
    xtrq110 = RxF10[1,1]*SWr10[4]+RxF10[1,3]*SWr10[6]
    xtrq210 = RxF10[2,2]*SWr10[5]
    xtrq310 = RxF10[3,1]*SWr10[4]+RxF10[3,3]*SWr10[6]
    trqext_1_13_9 = trqext_1_13_8+xtrq110-xfrc210*(SWr10[9]-s.l[3,13])+xfrc310*SWr10[8]
    trqext_2_13_9 = trqext_2_13_8+xtrq210+xfrc110*(SWr10[9]-s.l[3,13])-xfrc310*SWr10[7]
    trqext_3_13_9 = trqext_3_13_8+xtrq310-xfrc110*SWr10[8]+xfrc210*SWr10[7]
 
# Symbolic model output

    frc[1,8] = s.frc[1,8]+frcext_1_8_4
    frc[2,8] = s.frc[2,8]+frcext_2_8_4
    frc[3,8] = s.frc[3,8]+frcext_3_8_4
    trq[1,8] = s.trq[1,8]+trqext_1_8_4
    trq[2,8] = s.trq[2,8]+trqext_2_8_4
    trq[3,8] = s.trq[3,8]+trqext_3_8_4
    frc[1,13] = s.frc[1,13]+frcext_1_13_9
    frc[2,13] = s.frc[2,13]+frcext_2_13_9
    frc[3,13] = s.frc[3,13]+frcext_3_13_9
    trq[1,13] = s.trq[1,13]+trqext_1_13_9
    trq[2,13] = s.trq[2,13]+trqext_2_13_9
    trq[3,13] = s.trq[3,13]+trqext_3_13_9

# Number of continuation lines = 0


